<!doctype html><html lang=en><head><title>Git Manual</title>
<meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="ie=edge"><link rel=stylesheet href=/application.47c9c4df356338566fd2dec7d647c52e085304bca8f37fcced5fa425dc60a01b.css integrity="sha256-R8nE3zVjOFZv0t7H1kfFLghTBLyo83/M7V+kJdxgoBs="><link rel=icon type=image/png href=/images/site/illust.yh_logo_hu_7ef18759bfe81647.png><meta property="og:url" content="https://codex-devlab.github.io/posts/dev/git-manual/"><meta property="og:site_name" content="CodeXlog"><meta property="og:title" content="Git Manual"><meta property="og:description" content="Pre-commit Pre Commit의 동작은 Commit이 이루어지는 시점에 Commit이 완료 되기전에 해당 스크립트가 실행되는 방식입니다.
$ git init 혹은 저장소를 Clone받게 되면 경로에 .git/hooks
내부에 다양한 Hook이 있는걸 확인 할 수 있습니다.
Pre Commit을 사용하는 두 가지 방법이 있습니다. 상세하게 따져본다면 git hook을 사용하는것은 동일하나,
이를 관리하는 방법이 조금 상이합니다.
Pre Commit을 사용하는 이유는 몇가지가 있지만,
가장 큰 목적은 동료와의 협업, Commit 관리, 오류 방지 등이 있다고 생각합니다.
예를 들어 Lint, Syntex Error 등이 해당 될 듯 합니다."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2018-05-18T08:12:43+05:00"><meta property="article:modified_time" content="2018-05-18T08:12:43+05:00"><meta property="article:tag" content="Git"><meta property="article:tag" content="Github"><meta property="article:tag" content="Manual"><meta name=twitter:card content="summary"><meta name=twitter:title content="Git Manual"><meta name=twitter:description content="Pre-commit Pre Commit의 동작은 Commit이 이루어지는 시점에 Commit이 완료 되기전에 해당 스크립트가 실행되는 방식입니다.
$ git init 혹은 저장소를 Clone받게 되면 경로에 .git/hooks
내부에 다양한 Hook이 있는걸 확인 할 수 있습니다.
Pre Commit을 사용하는 두 가지 방법이 있습니다. 상세하게 따져본다면 git hook을 사용하는것은 동일하나,
이를 관리하는 방법이 조금 상이합니다.
Pre Commit을 사용하는 이유는 몇가지가 있지만,
가장 큰 목적은 동료와의 협업, Commit 관리, 오류 방지 등이 있다고 생각합니다.
예를 들어 Lint, Syntex Error 등이 해당 될 듯 합니다."><meta name=description content="Git Manual"><script async src="https://www.googletagmanager.com/gtag/js?id=G-FSLRPDG57K"></script><script>var dnt,doNotTrack=!1;if(null&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-FSLRPDG57K")}</script><script integrity="sha256-DO4ugzEwhTW1Id1UIWn0gUJWaebCYOypeTit6LW4QB4=">let theme=localStorage.getItem("theme-scheme")||localStorage.getItem("darkmode:color-scheme")||"light";theme==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?theme="dark":theme="light"),document.documentElement.setAttribute("data-theme",theme)</script></head><body class="type-posts kind-page" data-bs-spy=scroll data-bs-target=#TableOfContents data-bs-offset=80><div class="container-fluid bg-secondary wrapper"><nav class="navbar navbar-expand-xl top-navbar shadow" id=top-navbar><div class=container><button class="navbar-toggler navbar-light" id=sidebar-toggler type=button>
<i data-feather=sidebar></i>
</button>
<a class=navbar-brand href=/><img src=/images/site/illust.yh_logo_hu_7ef18759bfe81647.png id=logo alt=Logo>
CodeXlog</a>
<button class="navbar-toggler navbar-light" id=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#top-nav-items aria-label=menu>
<i data-feather=menu></i></button><div class="collapse navbar-collapse dynamic-navbar" id=top-nav-items><ul class="nav navbar-nav ms-auto"><li class=nav-item><a class=nav-link href=/#home>Home</a></li><li class=nav-item><a class=nav-link href=/#recent-posts>Recent Posts</a></li><div id=top-navbar-divider></div><li class=nav-item><a class=nav-link id=blog-link href=/posts>Posts</a></li><li class=nav-item><a class=nav-link href=/tags/>Tags</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=themeSelector role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false><img id=navbar-theme-icon-svg class=theme-icon src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme"></a><div id=themeMenu class="dropdown-menu dropdown-menu-icons-only" aria-labelledby=themeSelector><a class="dropdown-item nav-link" href=# data-scheme=light><img class=theme-icon src=/icons/sun-svgrepo-com.svg width=20 alt="Light Theme">
</a><a class="dropdown-item nav-link" href=# data-scheme=dark><img class=theme-icon src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme">
</a><a class="dropdown-item nav-link" href=# data-scheme=system><img class=theme-icon src=/icons/computer-svgrepo-com.svg width=20 alt="System Theme"></a></div></li></ul></div></div><img src=/images/site/illust.yh_logo_hu_7ef18759bfe81647.png class=d-none id=main-logo alt=Logo>
<img src=/images/site/illust.yh_logo_hu_7ef18759bfe81647.png class=d-none id=inverted-logo alt="Inverted Logo"></nav><section class=sidebar-section id=sidebar-section><div class=sidebar-holder><div class=sidebar id=sidebar><form class=mx-auto method=get action=/search><input type=text name=keyword placeholder=Search data-search id=search-box></form><div class=sidebar-tree><ul class=tree id=tree><li id=list-heading><a href=/posts/ data-filter=all>Posts</a></li><div class=subtree><li><i data-feather=plus-circle></i><a class=list-link href=/posts/blog-migration/> Blog-Migration</a><ul><li><a class=list-link href=/posts/blog-migration/sub-hugo/ title=Hugo>Hugo</a></li><li><a class=list-link href=/posts/blog-migration/sub-jekyll/ title=Jekyll>Jekyll</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/posts/study/> Study</a><ul><li><i data-feather=plus-circle></i><a class=list-link href=/posts/study/sub-algorithms/> Algorithms</a><ul><li><i data-feather=plus-circle></i><a class=list-link href=/posts/study/sub-algorithms/online-judge/> Algorithms Problem</a><ul><li><i data-feather=plus-circle></i><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/> Backjoon</a><ul><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-100039/ title=Problem.100039>Problem.100039</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-1065/ title=Problem.1065>Problem.1065</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-10809/ title=Problem.10809>Problem.10809</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-10871/ title=Problem.10871>Problem.10871</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-1110/ title=Problem.1110>Problem.1110</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-1152/ title=Problem.1152>Problem.1152</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-1157/ title=Problem.1157>Problem.1157</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-11654/ title=Problem.11654>Problem.11654</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-11718/ title=Problem.11718>Problem.11718</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-11719/ title=Problem.11719>Problem.11719</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-11720/ title=Problem.11720>Problem.11720</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-11721/ title=Problem.11721>Problem.11721</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-1316/ title=Problem.1316>Problem.1316</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-1546/ title=Problem.1546>Problem.1546</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-15552/ title=Problem.15552>Problem.15552</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-1924/ title=Problem.1924>Problem.1924</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-1978/ title=Problem.1978>Problem.1978</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-2257/ title=Problem.2257>Problem.2257</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-2439/ title=Problem.2439>Problem.2439</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-2441/ title=Problem.2441>Problem.2441</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-2448/ title=Problem.2448>Problem.2448</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-2490/ title=Problem.2490>Problem.2490</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-2675/ title=Problem.2675>Problem.2675</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-2839/ title=Problem.2839>Problem.2839</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-2908/ title=Problem.2908>Problem.2908</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-2920/ title=Problem.2920>Problem.2920</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-2941/ title=Problem.2941>Problem.2941</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-4673/ title=Problem.4673>Problem.4673</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-5622/ title=Problem.5622>Problem.5622</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-8393/ title=Problem.8393>Problem.8393</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-8958/ title=Problem.8958>Problem.8958</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-9461/ title=Problem.9461>Problem.9461</a></li></ul></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/posts/study/sub-algorithms/programming-tips/> Programming Tips</a><ul><li><a class=list-link href=/posts/study/sub-algorithms/programming-tips/the-meaning-of-scanf-in-c-language/ title="C언어 Scanf 의 의미">C언어 Scanf 의 의미</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/posts/study/sub-algorithms/etc-problems/> Etc Problem</a><ul><li><a class=list-link href=/posts/study/sub-algorithms/etc-problems/prob-snail/ title="Prob 달팽이 배열">Prob 달팽이 배열</a></li><li><a class=list-link href=/posts/study/sub-algorithms/etc-problems/basic-problem/ title="기초 문제">기초 문제</a></li><li><a class=list-link href=/posts/study/sub-algorithms/etc-problems/various-pattern-output/ title="다양한 패턴 출력">다양한 패턴 출력</a></li><li><a class=list-link href=/posts/study/sub-algorithms/etc-problems/prob-bigandsmall/ title="큰수 작은수로 정렬후 덧셈">큰수 작은수로 정렬후 덧셈</a></li><li><a class=list-link href=/posts/study/sub-algorithms/etc-problems/prob-pascal-triangle/ title="파스칼의 삼각형">파스칼의 삼각형</a></li></ul></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/posts/study/sub-computer-science/> Computer Science</a><ul><li><a class=list-link href=/posts/study/sub-computer-science/embedded-system/ title="시스템프로그래밍 FTW 구현">시스템프로그래밍 FTW 구현</a></li><li><a class=list-link href=/posts/study/sub-computer-science/system-programming-ftw-implementation/ title="시스템프로그래밍 FTW 구현">시스템프로그래밍 FTW 구현</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/posts/study/sub-programming-language/> Programming Language</a><ul><li><i data-feather=plus-circle></i><a class=list-link href=/posts/study/sub-programming-language/sub-python/> Python</a><ul><li><a class=list-link href=/posts/study/sub-programming-language/sub-python/basic-python/ title="Python 기초">Python 기초</a></li></ul></li><li><a class=list-link href=/posts/study/sub-programming-language/study-c-language/ title="C언어 스터디">C언어 스터디</a></li><li><a class=list-link href=/posts/study/sub-programming-language/1-byte-unit-access-by-forced-casting/ title="강제 캐스팅에 의한 1byte 단위 접근법">강제 캐스팅에 의한 1byte 단위 접근법</a></li></ul></li></ul></li><li><i data-feather=minus-circle></i><a class="active list-link" href=/posts/dev/> Dev</a><ul class=active><li><i data-feather=plus-circle></i><a class=list-link href=/posts/dev/sub-projects/> Tips</a><ul><li><i data-feather=plus-circle></i><a class=list-link href=/posts/dev/sub-projects/sub-text-recognizer-on-ec2/> AWS text recognizer</a><ul><li><a class=list-link href=/posts/dev/sub-projects/sub-text-recognizer-on-ec2/text-recognizer-on-ec2-dev-history/ title="AWS project 진행 과정">AWS project 진행 과정</a></li><li><a class=list-link href=/posts/dev/sub-projects/sub-text-recognizer-on-ec2/text-recognizer-on-ec2-main/ title="AWS 이미지속 글자 추출">AWS 이미지속 글자 추출</a></li><li><a class=list-link href=/posts/dev/sub-projects/sub-text-recognizer-on-ec2/text-recognizer-on-ec2-django/ title="Django 따라해보기!!">Django 따라해보기!!</a></li></ul></li></ul></li><li><a class=list-link href=/posts/dev/sub-tips/ title=Tips>Tips</a></li><li><a class="active list-link" href=/posts/dev/git-manual/ title="Git Manual">Git Manual</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/posts/os/> OS</a><ul><li><a class=list-link href=/posts/os/sub-bsd-based/ title="BSD-Based OS">BSD-Based OS</a></li><li><i data-feather=plus-circle></i><a class=list-link href=/posts/os/sub-linux/> Linux</a><ul><li><i data-feather=plus-circle></i><a class=list-link href=/posts/os/sub-linux/debian-bases/> Debain-Based OS</a><ul><li><a class=list-link href=/posts/os/sub-linux/debian-bases/ubuntu-setting/ title="Ubuntu & OSX setting">Ubuntu & OSX setting</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/posts/os/sub-linux/rhel-based/> RHEL-Based OS</a><ul><li><a class=list-link href=/posts/os/sub-linux/rhel-based/centos-7-setting/ title="CentOS 7">CentOS 7</a></li></ul></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/posts/os/sub-macos/> Mac OS</a><ul><li><a class=list-link href=/posts/os/sub-macos/mac-autojump/ title="Mac Autojump 설치및 사용법">Mac Autojump 설치및 사용법</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/posts/os/sub-window/> Window OS</a><ul><li><a class=list-link href=/posts/os/sub-window/window-git-setting/ title="Git 설치 및 초기설정">Git 설치 및 초기설정</a></li></ul></li></ul></li></div></ul></div></div></div></section><section class=content-section id=content-section><div class=content><div class="container p-0 read-area"><div class="hero-area col-sm-12" id=hero-area style=background-image:url(/images/rand_images/nejc-soklic.jpg)></div><div class=page-content><div class="author-profile ms-auto align-self-lg-center"><img class=rounded-circle src=/images/author/pigeon.gif alt="Author Image"><h5 class=author-name>DongjuSon</h5><p class=text-muted>Friday, May 18, 2018 | 3 minutes</p></div><div class=title><h1>Git Manual</h1></div><div class=tags><ul style=padding-left:0><li class=rounded><a href=/tags/git/ class="btn btn-sm btn-info">Git</a></li><li class=rounded><a href=/tags/github/ class="btn btn-sm btn-info">Github</a></li><li class=rounded><a href=/tags/manual/ class="btn btn-sm btn-info">Manual</a></li></ul></div><div class=post-content id=post-content><h3 id=pre-commit>Pre-commit</h3><blockquote><p>Pre Commit의 동작은 Commit이 이루어지는 시점에 Commit이 완료 되기전에 해당 스크립트가 실행되는 방식입니다.<br><code>$ git init</code> 혹은 저장소를 Clone받게 되면 경로에 <code>.git/hooks</code><br>내부에 다양한 Hook이 있는걸 확인 할 수 있습니다.</p></blockquote><p>Pre Commit을 사용하는 두 가지 방법이 있습니다.
상세하게 따져본다면 git hook을 사용하는것은 동일하나,<br>이를 관리하는 방법이 조금 상이합니다.</p><p>Pre Commit을 사용하는 이유는 몇가지가 있지만,<br>가장 큰 목적은 동료와의 협업, Commit 관리, 오류 방지 등이 있다고 생각합니다.</p><p>예를 들어 Lint, Syntex Error 등이 해당 될 듯 합니다.</p><p>그렇다면 동료 모두가 같은 Pre Commit을 사용하기 위해선 어떻게 해야 할까요?<br>Github에 공유되어서 같은 룰을 공유 받는게 가장 편한 방법이라 생각합니다.</p><p>그럼 먼저 Pre Commit을 Local 환경에서 생성하고 사용하는 방법 부터 설명드리고 이를 공유해서 편리하게 사용하는 방법 까지 발전시켜 보겠습니다.</p><h4 id=pre-commit-running-on-local>Pre-Commit Running on Local</h4><p>예를 들어보겠습니다.
Go언어로 개발중에 go 모듈의 오류나 경로가 정상적으로 설정 되어 있는지 확인하는 Pre commit을 실행한다고 가정 하겠습니다.</p><p>로컬 환경에서 각 모듈을 개발하고 모듈의 경로를 로컬 경로로 지정 한 채, 커밋이 되게 된다면 다른 팀원이나 배포되는 서버에서 실행 시 문제가 발생 할 수 있기 때문에 사전에 방지하는것이 좋습니다.</p><p>그럼 이를 방지 할 수 있는 pre commit을 생성해 보도록 하겠습니다.</p><blockquote><p>pre-commit은 반드시 <code>.git/hooks/pre-commit</code> 의 이름으로 있어야 합니다.</p></blockquote><details><summary>pre-commit 예제</summary><ol><li><p><code>.git/hooks/pre-commit</code> 을 생성 합니다.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span> $ vim .git/hooks/pre-commit
</span></span><span style=display:flex><span> <span style=color:#75715e>#!/bin/bash</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span> <span style=color:#75715e># Git 프로젝트 루트 경로 가져오기</span>
</span></span><span style=display:flex><span> GIT_ROOT<span style=color:#f92672>=</span><span style=color:#66d9ef>$(</span>git rev-parse --show-toplevel<span style=color:#66d9ef>)</span>
</span></span><span style=display:flex><span> GO_MOD_FILE<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span>$GIT_ROOT<span style=color:#e6db74>/go.mod&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span> <span style=color:#75715e># 1️⃣ go.mod 파일이 없으면 커밋 중단</span>
</span></span><span style=display:flex><span> <span style=color:#66d9ef>if</span> <span style=color:#f92672>[</span> ! -f <span style=color:#e6db74>&#34;</span>$GO_MOD_FILE<span style=color:#e6db74>&#34;</span> <span style=color:#f92672>]</span>; <span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span> 	echo <span style=color:#e6db74>&#34;❌ go.mod 파일이 없습니다. 커밋을 중단합니다!&#34;</span>
</span></span><span style=display:flex><span> 	exit <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span> <span style=color:#66d9ef>fi</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span> <span style=color:#75715e># 2️⃣ go.mod 파일에 특정 문자열이 없으면 커밋 중단</span>
</span></span><span style=display:flex><span> <span style=color:#66d9ef>if</span> ! grep -q <span style=color:#e6db74>&#34;github.com/hugo-toha/toha/v4&#34;</span> <span style=color:#e6db74>&#34;</span>$GO_MOD_FILE<span style=color:#e6db74>&#34;</span>; <span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span> 	echo <span style=color:#e6db74>&#34;❌ go.mod 파일에 필요한 패턴이 없습니다. 커밋을 중단합니다!&#34;</span>
</span></span><span style=display:flex><span> 	exit <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span> <span style=color:#66d9ef>fi</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span> echo <span style=color:#e6db74>&#34;✅ pre-commit 훅이 성공적으로 실행되었습니다.&#34;</span>
</span></span><span style=display:flex><span> exit <span style=color:#ae81ff>0</span>  <span style=color:#75715e># 정상 종료</span>
</span></span></code></pre></div></li><li><p>pre-commit 실행 권한 부여</p></li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ chmod +x .git/hooks/pre-commit
</span></span></code></pre></div><ol start=3><li>pre-commit 실행 확인</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ git commit --allow-empty -m <span style=color:#e6db74>&#34;Test Pre-Commit&#34;</span>
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#34;✅ pre-commit 훅이 성공적으로 실행되었습니다.&#34;</span>
</span></span></code></pre></div><p>정상적으로 실행되는지 확인 할 목적이라면 단순히 pre-commit을 실행해봐도 됩니다!</p></details><h4 id=convenient-sharing-method-of-pre-commit>Convenient sharing method of Pre-Commit</h4><p>이제 pre-commit을 협업하는 모두가 공유해서 사용하는 두 가지 방법에 대해 설명 드리겠습니다.</p><details><summary>`.githooks/` 디렉터리를 사용하여 공유</summary><h5 id=using-githooks-dir>Using <code>.githooks/</code> dir</h5><ol><li><p>GitHub 저장소에 githooks/pre-commit 스크립트 저장
프로젝트 루트에 .githooks/pre-commit 파일을 추가합니다.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ mkdir -p .githooks
</span></span><span style=display:flex><span>$ touch .githooks/pre-commit
</span></span><span style=display:flex><span>$ chmod +x .githooks/pre-commit
</span></span></code></pre></div><p>그리고 pre-commit 훅을 .githooks/pre-commit에 작성합니다.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e>#!/bin/bash
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#34;🔍 Pre-commit hook is running...&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 예제: go.mod 파일이 없으면 커밋 중단</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> <span style=color:#f92672>[</span> ! -f <span style=color:#e6db74>&#34;go.mod&#34;</span> <span style=color:#f92672>]</span>; <span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span>	echo <span style=color:#e6db74>&#34;❌ go.mod 파일이 없습니다. 커밋을 중단합니다!&#34;</span>
</span></span><span style=display:flex><span>	exit <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>fi</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#34;✅ Pre-commit check passed!&#34;</span>
</span></span><span style=display:flex><span>exit <span style=color:#ae81ff>0</span>
</span></span></code></pre></div></li><li><p>개발자가 .git/hooks/에 자동으로 적용
로컬에서 git clone한 후, 아래 명령어를 실행하면 .git/hooks/pre-commit에 자동으로 적용됩니다.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ git config core.hooksPath .githooks
</span></span></code></pre></div><p>이렇게 설정하면, git commit을 실행할 때 <code>.githooks/pre-commit</code>이 실행됩니다.</p></li></ol></details><details><summary>python `pre-commit` 프레임워크 사용</summary><h5 id=using-pre-commit-framework>Using <code>pre-commit</code> Framework</h5><p><a href=https://pre-commit.com/ target=_blank rel=noopener>pre-commit</a> 프레임워크를 활용하면, 저장소에 <code>.pre-commit-config.yaml</code> 파일을 추가하는 것만으로도 팀 전체가 동일한 pre-commit 훅을 사용할 수 있습니다.</p><ol><li><p>pre-commit 설치
개발자는 먼저 pre-commit을 설치해야 합니다.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>pip install pre-commit  <span style=color:#75715e># Python이 설치된 경우</span>
</span></span></code></pre></div></li><li><p>.pre-commit-config.yaml 파일을 저장소에 추가
저장소 루트에 .pre-commit-config.yaml 파일을 추가합니다.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>repos</span>:
</span></span><span style=display:flex><span>- <span style=color:#f92672>repo</span>: <span style=color:#ae81ff>local</span>
</span></span><span style=display:flex><span>	<span style=color:#f92672>hooks</span>:
</span></span><span style=display:flex><span>	- <span style=color:#f92672>id</span>: <span style=color:#ae81ff>go-mod-check</span>
</span></span><span style=display:flex><span>		<span style=color:#f92672>name</span>: <span style=color:#ae81ff>Go Mod Check</span>
</span></span><span style=display:flex><span>		<span style=color:#f92672>entry</span>: <span style=color:#ae81ff>bash scripts/pre-commit.sh</span>
</span></span><span style=display:flex><span>		<span style=color:#f92672>language</span>: <span style=color:#ae81ff>system</span>
</span></span><span style=display:flex><span>		<span style=color:#f92672>types</span>: [<span style=color:#ae81ff>text]</span>
</span></span></code></pre></div></li><li><p>pre-commit 실행 스크립트 추가
저장소 내 scripts/pre-commit.sh 파일을 만들어 아래 내용을 작성합니다.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e>#!/bin/bash
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#34;🔍 Pre-commit hook is running...&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># go.mod 파일 체크</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> <span style=color:#f92672>[</span> ! -f <span style=color:#e6db74>&#34;go.mod&#34;</span> <span style=color:#f92672>]</span>; <span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span>	echo <span style=color:#e6db74>&#34;❌ go.mod 파일이 없습니다. 커밋을 중단합니다!&#34;</span>
</span></span><span style=display:flex><span>	exit <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>fi</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#34;✅ Pre-commit check passed!&#34;</span>
</span></span><span style=display:flex><span>exit <span style=color:#ae81ff>0</span>
</span></span></code></pre></div></li><li><p>개발자가 pre-commit install 실행</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ pre-commit install
</span></span></code></pre></div></li></ol><p>이제 git commit을 실행할 때마다 pre-commit이 자동으로 실행됩니다.</p></details></div><div class="row ps-3 pe-3"><div class="col-md-6 share-buttons"><strong>Share on:</strong>
<a class="btn icon-button bg-facebook" href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fcodex-devlab.github.io%2fposts%2fdev%2fgit-manual%2f" target=_blank><i class="fab fa-facebook"></i>
</a><a class="btn icon-button bg-twitter" href="https://twitter.com/share?url=https%3a%2f%2fcodex-devlab.github.io%2fposts%2fdev%2fgit-manual%2f&text=Git%20Manual&via=CodeXlog" target=_blank><i class="fab fa-twitter"></i>
</a><a class="btn icon-button bg-linkedin" href="https://www.linkedin.com/shareArticle?url=https%3a%2f%2fcodex-devlab.github.io%2fposts%2fdev%2fgit-manual%2f&title=Git%20Manual" target=_blank><i class="fab fa-linkedin"></i>
</a><a class="btn icon-button" href="mailto:?subject=Git%20Manual&body=https%3a%2f%2fcodex-devlab.github.io%2fposts%2fdev%2fgit-manual%2f" target=_blank><i class="fas fa-envelope-open-text"></i></a></div><div class="col-md-6 btn-improve-page"><a href=https://github.com/codex-devlab/codex-devlab.github.io/edit/main/content/posts/dev/git-manual/index.md title="Improve this page" target=_blank rel=noopener><i class="fas fa-code-branch"></i>
Improve this page</a></div></div><hr><div class="row next-prev-navigator"><div class="col-md-6 previous-article"><a href=/posts/dev/sub-tips/ title=Tips class="btn filled-button"><div><i class="fas fa-chevron-circle-left"></i> Prev</div><div class=next-prev-text>Tips</div></a></div><div class="col-md-6 next-article"><a href=/posts/os/sub-bsd-based/ title="BSD-Based OS" class="btn filled-button"><div>Next <i class="fas fa-chevron-circle-right"></i></div><div class=next-prev-text>BSD-Based OS</div></a></div></div><hr><div id=disqus_thread></div><script type=text/javascript>(function(){if(window.location.hostname=="localhost")return;var t,e=document.createElement("script");e.type="text/javascript",e.async=!0,t="codex-devlab-github-io",e.src="//"+t+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)})()</script><noscript>Please enable JavaScript to view the
<a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com/ class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></div></div><a id=scroll-to-top class=btn type=button data-bs-toggle=tooltip data-bs-placement=left title="Scroll to top"><i class="fas fa-chevron-circle-up"></i></a></section><section class=toc-section id=toc-section><div class=toc-holder><h5 class="text-center ps-3">Table of Contents</h5><hr><div class=toc><nav id=TableOfContents><ul><li><ul><li><ul><li><a href=#pre-commit>Pre-commit</a><ul><li><a href=#pre-commit-running-on-local>Pre-Commit Running on Local</a></li><li><a href=#convenient-sharing-method-of-pre-commit>Convenient sharing method of Pre-Commit</a><ul><li><a href=#using-githooks-dir>Using <code>.githooks/</code> dir</a></li><li><a href=#using-pre-commit-framework>Using <code>pre-commit</code> Framework</a></li></ul></li></ul></li></ul></li></ul></li></ul></nav></div></div></section></div><footer id=footer class="container-fluid text-center align-content-center footer pb-2"><div class="container pt-5"><div class="row text-start"><div class="col-md-4 col-sm-12"><h5>Navigation</h5><ul><li class=nav-item><a class=smooth-scroll href=https://codex-devlab.github.io/#recent-posts>Recent Posts</a></li><li class=nav-item><a class=smooth-scroll href=/tags/>Tags</a></li></ul></div><div class="col-md-4 col-sm-12"><h5>Contact me:</h5><ul><li><a href=mailto:codex.devlab@gmail.com target=_blank rel=noopener><span><i class="fas fa-envelope"></i></span> <span>codex.devlab@gmail.com</span></a></li><li><a href=https://github.com/ehdwn1991 target=_blank rel=noopener><span><i class="fab fa-github"></i></span> <span>ehdwn1991</span></a></li><li><a href=https://www.linkedin.com/in/dongju-son target=_blank rel=noopener><span><i class="fab fa-linkedin"></i></span> <span>DongjuSon</span></a></li></ul></div></div></div><hr><div class=container><p id=disclaimer><strong>Liability Notice:</strong> This theme is under MIT license. So, you can use it for non-commercial, commercial, or private uses. You can modify or distribute the theme without requiring any permission from the theme author. However, the theme author does not provide any warranty or takes any liability for any issue with the theme.</p></div></footer><script src=/application.5c1b4fcf22483f6df2703ba146ca9ffdf10eef71c2abf801d2b9a23d06c89341.js integrity="sha256-XBtPzyJIP23ycDuhRsqf/fEO73HCq/gB0rmiPQbIk0E=" defer></script></body></html>