<!doctype html><html lang=ko><head><meta charset=UTF-8><title>시스템프로그래밍 FTW 구현</title>
<meta http-equiv=X-UA-Compatible content="ie=edge"><link rel=canonical href=https://codex-devlab.github.io/posts/study/sub-computer-science/embedded-system/><meta name=author content="Codex"><meta name=naver-site-verification content="b2524fe501f608ead516ec8070aeb765b091b2f1"><meta name=google-site-verification content="EKpWUHeRAlcAGBCXOjr_mjGQb7GKLHDq4MjEIBbrfUc"><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","name":"CodeXlog","url":"https:\/\/codex-devlab.github.io\/","logo":"\/images\/site\/illust.yh_logo.png"}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/codex-devlab.github.io\/posts\/study\/sub-computer-science\/embedded-system\/"},"headline":"시스템프로그래밍 FTW 구현","description":"Embedded System? An embedded system is a computer system \u0026mdash; 작은 컴퓨터 라고 생각하자.\nDedicated function \u0026mdash; 시스템에 맞춰 특정 동작을 한다.\nWithin a lager mechanical or …","image":"\/images\/site\/illust.yh_logo.png","author":{"@type":"Person","url":"https:\/\/codex-devlab.github.io/#about","name":"Codex"},"publisher":{"@type":"Organization","name":"CodeXlog","logo":{"@type":"ImageObject","url":"\/images\/site\/illust.yh_logo.png"}},"datePublished":"2018-08-10T10:25:23\u002b06:00","dateModified":"2018-08-10T10:25:23\u002b06:00"}</script><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="ie=edge"><link rel=stylesheet href=/application.47c9c4df356338566fd2dec7d647c52e085304bca8f37fcced5fa425dc60a01b.css integrity="sha256-R8nE3zVjOFZv0t7H1kfFLghTBLyo83/M7V+kJdxgoBs="><link rel=icon type=image/png href=/images/site/illust.yh_logo_hu_7ef18759bfe81647.png><meta property="og:url" content="https://codex-devlab.github.io/posts/study/sub-computer-science/embedded-system/"><meta property="og:site_name" content="CodeXlog"><meta property="og:title" content="시스템프로그래밍 FTW 구현"><meta property="og:description" content="알고리즘 문제풀이시 참고 할 수 있는 Tip 모음입니다."><meta property="og:locale" content="ko"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2018-08-10T10:25:23+06:00"><meta property="article:modified_time" content="2018-08-10T10:25:23+06:00"><meta property="article:tag" content="Study"><meta property="article:tag" content="Embeded-System"><meta property="article:tag" content="C"><meta name=twitter:card content="summary"><meta name=twitter:title content="시스템프로그래밍 FTW 구현"><meta name=twitter:description content="알고리즘 문제풀이시 참고 할 수 있는 Tip 모음입니다."><meta name=description content="알고리즘 문제풀이시 참고 할 수 있는 Tip 모음입니다."><script async src="https://www.googletagmanager.com/gtag/js?id=G-FSLRPDG57K"></script><script>var dnt,doNotTrack=!1;if(null&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-FSLRPDG57K")}</script><script integrity="sha256-DO4ugzEwhTW1Id1UIWn0gUJWaebCYOypeTit6LW4QB4=">let theme=localStorage.getItem("theme-scheme")||localStorage.getItem("darkmode:color-scheme")||"light";theme==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?theme="dark":theme="light"),document.documentElement.setAttribute("data-theme",theme)</script></head><body class="type-posts kind-page" data-bs-spy=scroll data-bs-target=#TableOfContents data-bs-offset=80><div class="container-fluid bg-secondary wrapper"><nav class="navbar navbar-expand-xl top-navbar shadow" id=top-navbar><div class=container><button class="navbar-toggler navbar-light" id=sidebar-toggler type=button>
<i data-feather=sidebar></i>
</button>
<a class=navbar-brand href=/><img src=/images/site/illust.yh_logo_hu_7ef18759bfe81647.png id=logo alt=Logo>
CodeXlog</a>
<button class="navbar-toggler navbar-light" id=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#top-nav-items aria-label=menu>
<i data-feather=menu></i></button><div class="collapse navbar-collapse dynamic-navbar" id=top-nav-items><ul class="nav navbar-nav ms-auto"><li class=nav-item><a class=nav-link href=/#home>Home</a></li><li class=nav-item><a class=nav-link href=/#about>About</a></li><li class=nav-item><a class=nav-link href=/#recent-posts>Recent Posts</a></li><div id=top-navbar-divider></div><li class=nav-item><a class=nav-link id=blog-link href=/posts>게시글</a></li><li class=nav-item><a class=nav-link href=/tags/>Tags</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=themeSelector role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false><img id=navbar-theme-icon-svg class=theme-icon src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme"></a><div id=themeMenu class="dropdown-menu dropdown-menu-icons-only" aria-labelledby=themeSelector><a class="dropdown-item nav-link" href=# data-scheme=light><img class=theme-icon src=/icons/sun-svgrepo-com.svg width=20 alt="Light Theme">
</a><a class="dropdown-item nav-link" href=# data-scheme=dark><img class=theme-icon src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme">
</a><a class="dropdown-item nav-link" href=# data-scheme=system><img class=theme-icon src=/icons/computer-svgrepo-com.svg width=20 alt="System Theme"></a></div></li></ul></div></div><img src=/images/site/illust.yh_logo_hu_7ef18759bfe81647.png class=d-none id=main-logo alt=Logo>
<img src=/images/site/illust.yh_logo_hu_7ef18759bfe81647.png class=d-none id=inverted-logo alt="Inverted Logo"></nav><section class=sidebar-section id=sidebar-section><div class=sidebar-holder><div class=sidebar id=sidebar><form class=mx-auto method=get action=/search><input type=text name=keyword placeholder=찾다 data-search id=search-box></form><div class=sidebar-tree><ul class=tree id=tree><li id=list-heading><a href=/posts/ data-filter=all>게시글</a></li><div class=subtree><li><i data-feather=plus-circle></i><a class=list-link href=/posts/blog-migration/> Blog-Migration</a><ul><li><a class=list-link href=/posts/blog-migration/sub-hugo/ title=Hugo>Hugo</a></li><li><a class=list-link href=/posts/blog-migration/sub-jekyll/ title=Jekyll>Jekyll</a></li></ul></li><li><i data-feather=minus-circle></i><a class="active list-link" href=/posts/study/> Study</a><ul class=active><li><i data-feather=plus-circle></i><a class=list-link href=/posts/study/sub-algorithms/> Algorithms</a><ul><li><i data-feather=plus-circle></i><a class=list-link href=/posts/study/sub-algorithms/online-judge/> Algorithms Problem</a><ul><li><i data-feather=plus-circle></i><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/> Backjoon</a><ul><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-100039/ title=Problem.100039>Problem.100039</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-1065/ title=Problem.1065>Problem.1065</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-10809/ title=Problem.10809>Problem.10809</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-10871/ title=Problem.10871>Problem.10871</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-1110/ title=Problem.1110>Problem.1110</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-1152/ title=Problem.1152>Problem.1152</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-1157/ title=Problem.1157>Problem.1157</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-11654/ title=Problem.11654>Problem.11654</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-11718/ title=Problem.11718>Problem.11718</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-11719/ title=Problem.11719>Problem.11719</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-11720/ title=Problem.11720>Problem.11720</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-11721/ title=Problem.11721>Problem.11721</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-1316/ title=Problem.1316>Problem.1316</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-1546/ title=Problem.1546>Problem.1546</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-15552/ title=Problem.15552>Problem.15552</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-1924/ title=Problem.1924>Problem.1924</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-1978/ title=Problem.1978>Problem.1978</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-2257/ title=Problem.2257>Problem.2257</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-2439/ title=Problem.2439>Problem.2439</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-2441/ title=Problem.2441>Problem.2441</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-2448/ title=Problem.2448>Problem.2448</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-2490/ title=Problem.2490>Problem.2490</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-2675/ title=Problem.2675>Problem.2675</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-2839/ title=Problem.2839>Problem.2839</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-2908/ title=Problem.2908>Problem.2908</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-2920/ title=Problem.2920>Problem.2920</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-2941/ title=Problem.2941>Problem.2941</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-4673/ title=Problem.4673>Problem.4673</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-5622/ title=Problem.5622>Problem.5622</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-8393/ title=Problem.8393>Problem.8393</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-8958/ title=Problem.8958>Problem.8958</a></li><li><a class=list-link href=/posts/study/sub-algorithms/online-judge/backjoon/step-prob/prob-9461/ title=Problem.9461>Problem.9461</a></li></ul></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/posts/study/sub-algorithms/programming-tips/> Programming Tips</a><ul><li><a class=list-link href=/posts/study/sub-algorithms/programming-tips/the-meaning-of-scanf-in-c-language/ title="C언어 Scanf 의 의미">C언어 Scanf 의 의미</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/posts/study/sub-algorithms/etc-problems/> Etc Problem</a><ul><li><a class=list-link href=/posts/study/sub-algorithms/etc-problems/prob-snail/ title="Prob 달팽이 배열">Prob 달팽이 배열</a></li><li><a class=list-link href=/posts/study/sub-algorithms/etc-problems/basic-problem/ title="기초 문제">기초 문제</a></li><li><a class=list-link href=/posts/study/sub-algorithms/etc-problems/various-pattern-output/ title="다양한 패턴 출력">다양한 패턴 출력</a></li><li><a class=list-link href=/posts/study/sub-algorithms/etc-problems/prob-bigandsmall/ title="큰수 작은수로 정렬후 덧셈">큰수 작은수로 정렬후 덧셈</a></li><li><a class=list-link href=/posts/study/sub-algorithms/etc-problems/prob-pascal-triangle/ title="파스칼의 삼각형">파스칼의 삼각형</a></li></ul></li></ul></li><li><i data-feather=minus-circle></i><a class="active list-link" href=/posts/study/sub-computer-science/> Computer Science</a><ul class=active><li><a class="active list-link" href=/posts/study/sub-computer-science/embedded-system/ title="시스템프로그래밍 FTW 구현">시스템프로그래밍 FTW 구현</a></li><li><a class=list-link href=/posts/study/sub-computer-science/system-programming-ftw-implementation/ title="시스템프로그래밍 FTW 구현">시스템프로그래밍 FTW 구현</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/posts/study/sub-programming-language/> Programming Language</a><ul><li><i data-feather=plus-circle></i><a class=list-link href=/posts/study/sub-programming-language/sub-python/> Python</a><ul><li><a class=list-link href=/posts/study/sub-programming-language/sub-python/basic-python/ title="Python 기초">Python 기초</a></li></ul></li><li><a class=list-link href=/posts/study/sub-programming-language/study-c-language/ title="C언어 스터디">C언어 스터디</a></li><li><a class=list-link href=/posts/study/sub-programming-language/1-byte-unit-access-by-forced-casting/ title="강제 캐스팅에 의한 1byte 단위 접근법">강제 캐스팅에 의한 1byte 단위 접근법</a></li></ul></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/posts/dev/> Dev</a><ul><li><i data-feather=plus-circle></i><a class=list-link href=/posts/dev/sub-devops/> DevOps</a><ul><li><a class=list-link href=/posts/dev/sub-devops/difference_of_terraform_and_ansible/ title="[DevOps] Terraform vs Ansible 뭐가 다르죠?">[DevOps] Terraform vs Ansible 뭐가 다르죠?</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/posts/dev/sub-projects/> Tips</a><ul><li><i data-feather=plus-circle></i><a class=list-link href=/posts/dev/sub-projects/sub-text-recognizer-on-ec2/> AWS text recognizer</a><ul><li><a class=list-link href=/posts/dev/sub-projects/sub-text-recognizer-on-ec2/text-recognizer-on-ec2-dev-history/ title="AWS project 진행 과정">AWS project 진행 과정</a></li><li><a class=list-link href=/posts/dev/sub-projects/sub-text-recognizer-on-ec2/text-recognizer-on-ec2-main/ title="AWS 이미지속 글자 추출">AWS 이미지속 글자 추출</a></li><li><a class=list-link href=/posts/dev/sub-projects/sub-text-recognizer-on-ec2/text-recognizer-on-ec2-django/ title="Django 따라해보기!!">Django 따라해보기!!</a></li></ul></li></ul></li><li><a class=list-link href=/posts/dev/sub-tips/ title=Tips>Tips</a></li><li><a class=list-link href=/posts/dev/git-manual/ title="Git Manual">Git Manual</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/posts/os/> OS</a><ul><li><a class=list-link href=/posts/os/sub-bsd-based/ title="BSD-Based OS">BSD-Based OS</a></li><li><i data-feather=plus-circle></i><a class=list-link href=/posts/os/sub-linux/> Linux</a><ul><li><i data-feather=plus-circle></i><a class=list-link href=/posts/os/sub-linux/debian-bases/> Debain-Based OS</a><ul><li><a class=list-link href=/posts/os/sub-linux/debian-bases/ubuntu-setting/ title="Ubuntu & OSX setting">Ubuntu & OSX setting</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/posts/os/sub-linux/rhel-based/> RHEL-Based OS</a><ul><li><a class=list-link href=/posts/os/sub-linux/rhel-based/centos-7-setting/ title="CentOS 7">CentOS 7</a></li></ul></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/posts/os/sub-macos/> Mac OS</a><ul><li><a class=list-link href=/posts/os/sub-macos/mac-autojump/ title="Mac Autojump 설치및 사용법">Mac Autojump 설치및 사용법</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/posts/os/sub-window/> Window OS</a><ul><li><a class=list-link href=/posts/os/sub-window/window-git-setting/ title="Git 설치 및 초기설정">Git 설치 및 초기설정</a></li></ul></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/posts/tools/> Tools</a><ul><li><i data-feather=plus-circle></i><a class=list-link href=/posts/tools/sub-gitlab/> GitLab</a><ul><li><a class=list-link href=/posts/tools/sub-gitlab/gitlab-upgrade/ title="GitLab Upgrade">GitLab Upgrade</a></li></ul></li></ul></li></div></ul></div></div></div></section><section class=content-section id=content-section><div class=content><div class="container p-0 read-area"><div class="hero-area col-sm-12" id=hero-area style=background-image:url(/images/rand_images/ilya-pavlov.jpg)></div><div class=page-content><div class="author-profile ms-auto align-self-lg-center"><img class=rounded-circle src=/images/author/pigeon.gif alt="Author Image"><h5 class=author-name>Codex</h5><p class=text-muted>2018년 8월 10일 금요일 | 11</p></div><div class=title><h1>시스템프로그래밍 FTW 구현</h1></div><div class=tags><ul style=padding-left:0><li class=rounded><a href=/tags/study/ class="btn btn-sm btn-info">Study</a></li><li class=rounded><a href=/tags/embeded-system/ class="btn btn-sm btn-info">Embeded-System</a></li><li class=rounded><a href=/tags/c/ class="btn btn-sm btn-info">C</a></li></ul></div><div class=post-content id=post-content><h2 id=embedded-system>Embedded System?</h2><blockquote><p>An embedded system is a computer system &mdash; 작은 컴퓨터 라고 생각하자.</p><p>Dedicated function &mdash; 시스템에 맞춰 특정 동작을 한다.</p><p>Within a lager mechanical or electronical system</p><p>더 큰 시스템의 일부로 내장(embedded)된다.</p><p>큰 시스템 안에 여러개의 임베디드 시스템이 동시에 존재할 수 있다.</p></blockquote><ul><li>Characteristic of Embedded system<ul><li>특정 기능을 수행</li><li>하드웨어 + 소프트웨어로 구성</li><li>하드웨어 변경 쉽지 않음</li><li>제한적인 자원</li><li>고 신뢰성, 실시간성의 요구</li></ul></li></ul><h2 id=soc>SoC</h2><blockquote><p>SoC(System on chip) 은</p></blockquote><p><img src=https://upload.wikimedia.org/wikipedia/commons/8/85/ARMSoCBlockDiagram.svg alt="soc 참고"></p><h2 id=volatile-쓰는-이유>volatile 쓰는 이유</h2><blockquote><p>실시간으로 변하는 값을 가져와야 할때, 컴파일러는 같은주소에서 값을 가져 오려고 하면안함.때문에 최적화를 시키면 안됨!</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>READ A
</span></span><span style=display:flex><span>PRINT A
</span></span><span style=display:flex><span>READ A
</span></span><span style=display:flex><span>PRINT A
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>compiile optimize
</span></span><span style=display:flex><span>...<span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>READ A
</span></span><span style=display:flex><span>PRINT A
</span></span><span style=display:flex><span>PRINT A
</span></span><span style=display:flex><span><span style=color:#75715e>//READ A를 지워버리는 이유를 같은 주소에서 값을 가져오기떄문에 지우는것!(같은 일을 하지 않기 위해서)
</span></span></span><span style=display:flex><span><span style=color:#75715e>// 근데 실상 A가 실시간으로 변하는 값이라서 매번 가져와야 하는데 저렇게 안가져오면 같은 값이 나오게된다.
</span></span></span><span style=display:flex><span><span style=color:#75715e>// 그래서 volatile이 쓰인다.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Using volatile
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>volatile</span> A
</span></span><span style=display:flex><span>READ A
</span></span><span style=display:flex><span>PRINT A
</span></span><span style=display:flex><span>READ A
</span></span><span style=display:flex><span>PRINT A
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>compiile optimize
</span></span><span style=display:flex><span>...<span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>READ A
</span></span><span style=display:flex><span>PRINT A
</span></span><span style=display:flex><span>READ A
</span></span><span style=display:flex><span>PRINT A
</span></span></code></pre></div><h3 id=gcc-arm-tool-chain-설치방법>gcc-arm tool chain 설치방법</h3><p>mac용 다운로드 <a href=https://developer.arm.com/open-source/gnu-toolchain/gnu-rm/downloads target=_blank rel=noopener>GNU Arm Embedded Toolchain</a></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ mkdir /usr/local/gcc-arm
</span></span><span style=display:flex><span>$ tar -xjf gcc-arm-none-eabi-7-2018-q2-update-mac.tar.tar.bz2 -C /usr/local/gcc-arm
</span></span><span style=display:flex><span><span style=color:#75715e># /usr/local/gcc-arm 안에 설치되어 있다.</span>
</span></span><span style=display:flex><span>$ sudo chmode -R -w /usr/local/gcc-arm
</span></span><span style=display:flex><span><span style=color:#75715e># 설치 확인</span>
</span></span><span style=display:flex><span>$ arm-none-eabi-gcc --version
</span></span><span style=display:flex><span>arm-none-eabi-gcc <span style=color:#f92672>(</span>GNU Tools <span style=color:#66d9ef>for</span> Arm Embedded Processors 7-2018-q2-update<span style=color:#f92672>)</span> 7.3.1 <span style=color:#ae81ff>20180622</span> <span style=color:#f92672>(</span>release<span style=color:#f92672>)</span> <span style=color:#f92672>[</span>ARM/embedded-7-branch revision 261907<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>Copyright <span style=color:#f92672>(</span>C<span style=color:#f92672>)</span> <span style=color:#ae81ff>2017</span> Free Software Foundation, Inc.
</span></span></code></pre></div><h3 id=homebrew-설치-방법되는건지-잘-모르겠음>homebrew 설치 방법(되는건지 잘 모르겠음)</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ brew tap PX4/homebrew-px4
</span></span><span style=display:flex><span>$ brew update
</span></span><span style=display:flex><span>$ brew install gcc-arm-none-eabi
</span></span></code></pre></div><h3 id=맥용-objdump-설치-방법>맥용 objdump 설치 방법</h3><blockquote><p>objdump는 deassemble을 해서 분석하기 위해 사용된다.
Mac 에서는 otool 이라는것이 존재하는데 어떻게 사용하는지 잘모르겠고,
objdump보다 더 불친절 하게 출력해준다.</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ brew install binutils
</span></span><span style=display:flex><span>$ gobjdump
</span></span><span style=display:flex><span><span style=color:#75715e># /usr/local/Cellar/binutils/2.30 에 가보면 objdump가 아니라</span>
</span></span><span style=display:flex><span><span style=color:#75715e># gobjdump로 되어있다 아마 맥에서 prefix가 바뀌어서 그런듯</span>
</span></span><span style=display:flex><span>$ vi ~/.bashrc
</span></span><span style=display:flex><span><span style=color:#75715e># In .bashrc  다음 내용 추가</span>
</span></span><span style=display:flex><span>export PATH<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;/usr/local/gcc-arm/gcc-arm-none-eabi-7-2018-q2-update/arm-none-eabi/bin:/usr/local/gcc-arm/gcc-arm-none-eabi-7-2018-q2-update/bin:</span>$PATH<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>$ arm-none-eabi-gcc --version
</span></span><span style=display:flex><span>arm-none-eabi-gcc <span style=color:#f92672>(</span>GNU Tools <span style=color:#66d9ef>for</span> Arm Embedded Processors 7-2018-q2-update<span style=color:#f92672>)</span> 7.3.1 <span style=color:#ae81ff>20180622</span> <span style=color:#f92672>(</span>release<span style=color:#f92672>)</span> <span style=color:#f92672>[</span>ARM/embedded-7-branch revision 261907<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>Copyright <span style=color:#f92672>(</span>C<span style=color:#f92672>)</span> <span style=color:#ae81ff>2017</span> Free Software Foundation, Inc.
</span></span></code></pre></div><h2 id=ex-예제>ex 예제</h2><p>ex 폴더에서 make하면 image가 만들어짐</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ cd /ex
</span></span><span style=display:flex><span>$ vi Makefile
</span></span><span style=display:flex><span>VERSION     <span style=color:#f92672>=</span> 7.3.1
</span></span><span style=display:flex><span>//7.3.1 버전이라 저렇게 수정해야댐
</span></span><span style=display:flex><span>TOOLPATH    <span style=color:#f92672>=</span> /usr/local/gcc-arm/gcc-arm-none-eabi-7-2018-q2-update
</span></span><span style=display:flex><span>//이렇게 수정함.
</span></span><span style=display:flex><span>//arm-none-eabi-gcc <span style=color:#f92672>(</span>GNU Tools <span style=color:#66d9ef>for</span> Arm Embedded Processors 7-2018-q2-update<span style=color:#f92672>)</span> //7.3.1 <span style=color:#ae81ff>20180622</span> <span style=color:#f92672>(</span>release<span style=color:#f92672>)</span> <span style=color:#f92672>[</span>ARM/embedded-7-branch revision 261907<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>//Copyright <span style=color:#f92672>(</span>C<span style=color:#f92672>)</span> <span style=color:#ae81ff>2017</span> Free Software Foundation, Inc.
</span></span><span style=display:flex><span>$ vi startup.S
</span></span><span style=display:flex><span><span style=color:#75715e>#msr        FPEXC,r0  # 여기 부분 주석 처리해야댐 자구 오류남</span>
</span></span><span style=display:flex><span>$ make
</span></span><span style=display:flex><span>$ ls
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>image image.bin image.map 세가지가 생김
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>$ greadelf -S image
</span></span><span style=display:flex><span>There are <span style=color:#ae81ff>16</span> section headers, starting at offset 0x94e0:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Section Headers:
</span></span><span style=display:flex><span>  <span style=color:#f92672>[</span>Nr<span style=color:#f92672>]</span> Name              Type            Addr     Off    Size   ES Flg Lk Inf Al
</span></span><span style=display:flex><span>  <span style=color:#f92672>[</span> 0<span style=color:#f92672>]</span>                   NULL            <span style=color:#ae81ff>00000000</span> <span style=color:#ae81ff>000000</span> <span style=color:#ae81ff>000000</span> <span style=color:#ae81ff>00</span>      <span style=color:#ae81ff>0</span>   <span style=color:#ae81ff>0</span>  <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[</span> 1<span style=color:#f92672>]</span> .text             PROGBITS        <span style=color:#ae81ff>20000000</span> <span style=color:#ae81ff>000058</span> 001f8c <span style=color:#ae81ff>00</span>  AX  <span style=color:#ae81ff>0</span>   <span style=color:#ae81ff>0</span>  <span style=color:#ae81ff>4</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[</span> 2<span style=color:#f92672>]</span> .rodata           PROGBITS        20001f8c 001fe4 <span style=color:#ae81ff>000014</span> <span style=color:#ae81ff>00</span>   A  <span style=color:#ae81ff>0</span>   <span style=color:#ae81ff>0</span>  <span style=color:#ae81ff>4</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[</span> 3<span style=color:#f92672>]</span> .data             PROGBITS        20001fa0 001ff8 <span style=color:#ae81ff>000020</span> <span style=color:#ae81ff>00</span>  WA  <span style=color:#ae81ff>0</span>   <span style=color:#ae81ff>0</span>  <span style=color:#ae81ff>8</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[</span> 4<span style=color:#f92672>]</span> .bss              NOBITS          20001fc0 <span style=color:#ae81ff>002018</span> 0017b8 <span style=color:#ae81ff>00</span>  WA  <span style=color:#ae81ff>0</span>   <span style=color:#ae81ff>0</span>  <span style=color:#ae81ff>8</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[</span> 5<span style=color:#f92672>]</span> .debug_info       PROGBITS        <span style=color:#ae81ff>00000000</span> <span style=color:#ae81ff>002018</span> 0019c2 <span style=color:#ae81ff>00</span>      <span style=color:#ae81ff>0</span>   <span style=color:#ae81ff>0</span>  <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[</span> 6<span style=color:#f92672>]</span> .debug_abbrev     PROGBITS        <span style=color:#ae81ff>00000000</span> 0039da <span style=color:#ae81ff>000457</span> <span style=color:#ae81ff>00</span>      <span style=color:#ae81ff>0</span>   <span style=color:#ae81ff>0</span>  <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[</span> 7<span style=color:#f92672>]</span> .debug_aranges    PROGBITS        <span style=color:#ae81ff>00000000</span> 003e38 <span style=color:#ae81ff>000080</span> <span style=color:#ae81ff>00</span>      <span style=color:#ae81ff>0</span>   <span style=color:#ae81ff>0</span>  <span style=color:#ae81ff>8</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[</span> 8<span style=color:#f92672>]</span> .debug_line       PROGBITS        <span style=color:#ae81ff>00000000</span> 003eb8 <span style=color:#ae81ff>000955</span> <span style=color:#ae81ff>00</span>      <span style=color:#ae81ff>0</span>   <span style=color:#ae81ff>0</span>  <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[</span> 9<span style=color:#f92672>]</span> .debug_str        PROGBITS        <span style=color:#ae81ff>00000000</span> 00480d 00094c <span style=color:#ae81ff>01</span>  MS  <span style=color:#ae81ff>0</span>   <span style=color:#ae81ff>0</span>  <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[</span>10<span style=color:#f92672>]</span> .comment          PROGBITS        <span style=color:#ae81ff>00000000</span> <span style=color:#ae81ff>005159</span> 00007f <span style=color:#ae81ff>01</span>  MS  <span style=color:#ae81ff>0</span>   <span style=color:#ae81ff>0</span>  <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[</span>11<span style=color:#f92672>]</span> .ARM.attributes   ARM_ATTRIBUTES  <span style=color:#ae81ff>00000000</span> 0051d8 <span style=color:#ae81ff>000039</span> <span style=color:#ae81ff>00</span>      <span style=color:#ae81ff>0</span>   <span style=color:#ae81ff>0</span>  <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[</span>12<span style=color:#f92672>]</span> .debug_frame      PROGBITS        <span style=color:#ae81ff>00000000</span> <span style=color:#ae81ff>005214</span> 0004c4 <span style=color:#ae81ff>00</span>      <span style=color:#ae81ff>0</span>   <span style=color:#ae81ff>0</span>  <span style=color:#ae81ff>4</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[</span>13<span style=color:#f92672>]</span> .symtab           SYMTAB          <span style=color:#ae81ff>00000000</span> 0056d8 0027f0 <span style=color:#ae81ff>10</span>     <span style=color:#ae81ff>14</span> <span style=color:#ae81ff>468</span>  <span style=color:#ae81ff>4</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[</span>14<span style=color:#f92672>]</span> .strtab           STRTAB          <span style=color:#ae81ff>00000000</span> 007ec8 00157e <span style=color:#ae81ff>00</span>      <span style=color:#ae81ff>0</span>   <span style=color:#ae81ff>0</span>  <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>[</span>15<span style=color:#f92672>]</span> .shstrtab         STRTAB          <span style=color:#ae81ff>00000000</span> <span style=color:#ae81ff>009446</span> 00009a <span style=color:#ae81ff>00</span>      <span style=color:#ae81ff>0</span>   <span style=color:#ae81ff>0</span>  <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>Key to Flags:
</span></span><span style=display:flex><span>  W <span style=color:#f92672>(</span>write<span style=color:#f92672>)</span>, A <span style=color:#f92672>(</span>alloc<span style=color:#f92672>)</span>, X <span style=color:#f92672>(</span>execute<span style=color:#f92672>)</span>, M <span style=color:#f92672>(</span>merge<span style=color:#f92672>)</span>, S <span style=color:#f92672>(</span>strings<span style=color:#f92672>)</span>, I <span style=color:#f92672>(</span>info<span style=color:#f92672>)</span>,
</span></span><span style=display:flex><span>  L <span style=color:#f92672>(</span>link order<span style=color:#f92672>)</span>, O <span style=color:#f92672>(</span>extra OS processing required<span style=color:#f92672>)</span>, G <span style=color:#f92672>(</span>group<span style=color:#f92672>)</span>, T <span style=color:#f92672>(</span>TLS<span style=color:#f92672>)</span>,
</span></span><span style=display:flex><span>  C <span style=color:#f92672>(</span>compressed<span style=color:#f92672>)</span>, x <span style=color:#f92672>(</span>unknown<span style=color:#f92672>)</span>, o <span style=color:#f92672>(</span>OS specific<span style=color:#f92672>)</span>, E <span style=color:#f92672>(</span>exclude<span style=color:#f92672>)</span>,
</span></span><span style=display:flex><span>  y <span style=color:#f92672>(</span>purecode<span style=color:#f92672>)</span>, p <span style=color:#f92672>(</span>processor specific<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>$ size image
</span></span><span style=display:flex><span>   text    data     bss     dec     hex filename
</span></span><span style=display:flex><span>   <span style=color:#ae81ff>8076</span>      <span style=color:#ae81ff>52</span>    <span style=color:#ae81ff>6072</span>   <span style=color:#ae81ff>14200</span>    <span style=color:#ae81ff>3778</span> image
</span></span><span style=display:flex><span>$ ls -l image.bin
</span></span><span style=display:flex><span>-rwxr-xr-x  <span style=color:#ae81ff>1</span> root  staff  <span style=color:#ae81ff>8128</span>  <span style=color:#ae81ff>7</span>  <span style=color:#ae81ff>9</span> 16:51 image.bin
</span></span></code></pre></div><h2 id=helloc-예제>hello.c 예제</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ gcc -E hello.c
</span></span><span style=display:flex><span>$ gcc -S hello.c
</span></span><span style=display:flex><span>$ gcc -c hello.s
</span></span><span style=display:flex><span>//이때 hello.o 파일이 생성된다.
</span></span><span style=display:flex><span>$ file hello.o
</span></span><span style=display:flex><span>hello.o: Mach-O 64-bit object x86_64
</span></span><span style=display:flex><span>$ cc hello.o
</span></span><span style=display:flex><span>$ ls
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>a.out
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>$ ./a.out
</span></span><span style=display:flex><span>hello
</span></span></code></pre></div><h2 id=오브젝트-파일과-실행-파일의-차이-공부>오브젝트 파일과 실행 파일의 차이 공부!</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>//오브젝트 파일의 내용을 살펴보자
</span></span><span style=display:flex><span>$ gobjdump -d hello.o
</span></span><span style=display:flex><span>hello.o:     file format mach-o-x86-64
</span></span><span style=display:flex><span>hello.o
</span></span><span style=display:flex><span>architecture: i386:x86-64, flags 0x00000011:
</span></span><span style=display:flex><span>HAS_RELOC, HAS_SYMS
</span></span><span style=display:flex><span>start address 0x0000000000000000
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Sections:
</span></span><span style=display:flex><span>Idx Name          Size      VMA               LMA               File off  Algn
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>0</span> .text         <span style=color:#ae81ff>00000031</span>  <span style=color:#ae81ff>0000000000000000</span>  <span style=color:#ae81ff>0000000000000000</span>  <span style=color:#ae81ff>00000270</span>  2**4
</span></span><span style=display:flex><span>                  CONTENTS, ALLOC, LOAD, RELOC, CODE
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>1</span> .data         <span style=color:#ae81ff>00000004</span>  <span style=color:#ae81ff>0000000000000034</span>  <span style=color:#ae81ff>0000000000000034</span>  000002a4  2**2
</span></span><span style=display:flex><span>                  CONTENTS, ALLOC, LOAD, DATA
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>2</span> .cstring      <span style=color:#ae81ff>00000007</span>  <span style=color:#ae81ff>0000000000000038</span>  <span style=color:#ae81ff>0000000000000038</span>  000002a8  2**0
</span></span><span style=display:flex><span>                  CONTENTS, ALLOC, LOAD, READONLY, DATA
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>3</span> __LD.__compact_unwind <span style=color:#ae81ff>00000020</span>  <span style=color:#ae81ff>0000000000000040</span>  <span style=color:#ae81ff>0000000000000040</span>  000002b0  2**3
</span></span><span style=display:flex><span>                  CONTENTS, RELOC, DEBUGGING
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>4</span> .eh_frame     <span style=color:#ae81ff>00000040</span>  <span style=color:#ae81ff>0000000000000060</span>  <span style=color:#ae81ff>0000000000000060</span>  000002d0  2**3
</span></span><span style=display:flex><span>                  CONTENTS, ALLOC, LOAD, READONLY, DATA
</span></span><span style=display:flex><span>SYMBOL TABLE:
</span></span><span style=display:flex><span><span style=color:#ae81ff>0000000000000034</span> g       0f SECT   <span style=color:#ae81ff>02</span> <span style=color:#ae81ff>0000</span> <span style=color:#f92672>[</span>.data<span style=color:#f92672>]</span> _a
</span></span><span style=display:flex><span><span style=color:#ae81ff>0000000000000000</span> g       0f SECT   <span style=color:#ae81ff>01</span> <span style=color:#ae81ff>0000</span> <span style=color:#f92672>[</span>.text<span style=color:#f92672>]</span> _main
</span></span><span style=display:flex><span><span style=color:#ae81ff>0000000000000004</span>         <span style=color:#ae81ff>01</span> COM    <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>0200</span> _b
</span></span><span style=display:flex><span><span style=color:#ae81ff>0000000000000028</span>         <span style=color:#ae81ff>01</span> COM    <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>0400</span> _c
</span></span><span style=display:flex><span><span style=color:#ae81ff>0000000000000000</span> g       <span style=color:#ae81ff>01</span> UND    <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>0000</span> _printf
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>RELOCATION RECORDS FOR <span style=color:#f92672>[</span>.text<span style=color:#f92672>]</span>:
</span></span><span style=display:flex><span>OFFSET           TYPE              VALUE 
</span></span><span style=display:flex><span><span style=color:#ae81ff>0000000000000020</span> BRANCH32          _printf
</span></span><span style=display:flex><span>000000000000000b DISP32            .cstring-0x0000000000000038
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>RELOCATION RECORDS FOR <span style=color:#f92672>[</span>__LD.__compact_unwind<span style=color:#f92672>]</span>:
</span></span><span style=display:flex><span>OFFSET           TYPE              VALUE 
</span></span><span style=display:flex><span><span style=color:#ae81ff>0000000000000000</span> <span style=color:#ae81ff>64</span>                .text
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>//이전의 오브젝트 파일과 실행 파일의 비교
</span></span><span style=display:flex><span>$ gobjdump -d a.out
</span></span><span style=display:flex><span>a.out:     file format mach-o-x86-64
</span></span><span style=display:flex><span>a.out
</span></span><span style=display:flex><span>architecture: i386:x86-64, flags 0x00000012:
</span></span><span style=display:flex><span>EXEC_P, HAS_SYMS
</span></span><span style=display:flex><span>start address 0x0000000100000f50
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Sections:
</span></span><span style=display:flex><span>Idx Name          Size      VMA               LMA               File off  Algn
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>0</span> .text         <span style=color:#ae81ff>00000031</span>  0000000100000f50  0000000100000f50  00000f50  2**4
</span></span><span style=display:flex><span>                  CONTENTS, ALLOC, LOAD, CODE
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>1</span> __TEXT.__stubs <span style=color:#ae81ff>00000006</span>  0000000100000f82  0000000100000f82  00000f82  2**1
</span></span><span style=display:flex><span>                  CONTENTS, ALLOC, LOAD, READONLY, CODE
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>2</span> __TEXT.__stub_helper 0000001a  0000000100000f88  0000000100000f88  00000f88  2**2
</span></span><span style=display:flex><span>                  CONTENTS, ALLOC, LOAD, READONLY, CODE
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>3</span> .cstring      <span style=color:#ae81ff>00000007</span>  0000000100000fa2  0000000100000fa2  00000fa2  2**0
</span></span><span style=display:flex><span>                  CONTENTS, ALLOC, LOAD, READONLY, DATA
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>4</span> __TEXT.__unwind_info <span style=color:#ae81ff>00000048</span>  0000000100000fac  0000000100000fac  00000fac  2**2
</span></span><span style=display:flex><span>                  CONTENTS, ALLOC, LOAD, READONLY, CODE
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>5</span> __DATA.__nl_symbol_ptr <span style=color:#ae81ff>00000010</span>  <span style=color:#ae81ff>0000000100001000</span>  <span style=color:#ae81ff>0000000100001000</span>  <span style=color:#ae81ff>00001000</span>  2**3
</span></span><span style=display:flex><span>                  CONTENTS, ALLOC, LOAD, DATA
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>6</span> __DATA.__la_symbol_ptr <span style=color:#ae81ff>00000008</span>  <span style=color:#ae81ff>0000000100001010</span>  <span style=color:#ae81ff>0000000100001010</span>  <span style=color:#ae81ff>00001010</span>  2**3
</span></span><span style=display:flex><span>                  CONTENTS, ALLOC, LOAD, DATA
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>7</span> .data         <span style=color:#ae81ff>00000004</span>  <span style=color:#ae81ff>0000000100001018</span>  <span style=color:#ae81ff>0000000100001018</span>  <span style=color:#ae81ff>00001018</span>  2**2
</span></span><span style=display:flex><span>                  CONTENTS, ALLOC, LOAD, DATA
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>8</span> __DATA.__common <span style=color:#ae81ff>00000038</span>  <span style=color:#ae81ff>0000000100001020</span>  <span style=color:#ae81ff>0000000100001020</span>  <span style=color:#ae81ff>00000000</span>  2**4
</span></span><span style=display:flex><span>                  ALLOC
</span></span><span style=display:flex><span>SYMBOL TABLE:
</span></span><span style=display:flex><span><span style=color:#ae81ff>0000000100000000</span> g       0f SECT   <span style=color:#ae81ff>01</span> <span style=color:#ae81ff>0010</span> <span style=color:#f92672>[</span>.text<span style=color:#f92672>]</span> __mh_execute_header
</span></span><span style=display:flex><span><span style=color:#ae81ff>0000000100001018</span> g       0f SECT   <span style=color:#ae81ff>08</span> <span style=color:#ae81ff>0000</span> <span style=color:#f92672>[</span>.data<span style=color:#f92672>]</span> _a
</span></span><span style=display:flex><span><span style=color:#ae81ff>0000000100001020</span> g       0f SECT   <span style=color:#ae81ff>09</span> <span style=color:#ae81ff>0000</span> <span style=color:#f92672>[</span>__DATA.__common<span style=color:#f92672>]</span> _b
</span></span><span style=display:flex><span><span style=color:#ae81ff>0000000100001030</span> g       0f SECT   <span style=color:#ae81ff>09</span> <span style=color:#ae81ff>0000</span> <span style=color:#f92672>[</span>__DATA.__common<span style=color:#f92672>]</span> _c
</span></span><span style=display:flex><span>0000000100000f50 g       0f SECT   <span style=color:#ae81ff>01</span> <span style=color:#ae81ff>0000</span> <span style=color:#f92672>[</span>.text<span style=color:#f92672>]</span> _main
</span></span><span style=display:flex><span><span style=color:#ae81ff>0000000000000000</span> g       <span style=color:#ae81ff>01</span> UND    <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>0100</span> _printf
</span></span><span style=display:flex><span><span style=color:#ae81ff>0000000000000000</span> g       <span style=color:#ae81ff>01</span> UND    <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>0100</span> dyld_stub_binder
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ xxd hello.o  <span style=color:#f92672>=</span>&gt; 이진수 파일을 16진수로 출력해줌 -r을 주면 반대로
</span></span><span style=display:flex><span>00000000: cffa edfe <span style=color:#ae81ff>0700</span> <span style=color:#ae81ff>0001</span> <span style=color:#ae81ff>0300</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0100</span> <span style=color:#ae81ff>0000</span>  ................
</span></span><span style=display:flex><span>00000010: <span style=color:#ae81ff>0400</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0002</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0020</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span>  ......... ......
</span></span><span style=display:flex><span>00000020: <span style=color:#ae81ff>1900</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>8801</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span>  ................
</span></span><span style=display:flex><span>00000030: <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span>  ................
</span></span><span style=display:flex><span>00000040: <span style=color:#ae81ff>9800</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>2002</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span>  ........ .......
</span></span><span style=display:flex><span>00000050: <span style=color:#ae81ff>9800</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0700</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0700</span> <span style=color:#ae81ff>0000</span>  ................
</span></span><span style=display:flex><span>00000060: <span style=color:#ae81ff>0400</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> 5f5f <span style=color:#ae81ff>7465</span> <span style=color:#ae81ff>7874</span> <span style=color:#ae81ff>0000</span>  ........__text..
</span></span><span style=display:flex><span>00000070: <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> 5f5f <span style=color:#ae81ff>5445</span> <span style=color:#ae81ff>5854</span> <span style=color:#ae81ff>0000</span>  ........__TEXT..
</span></span><span style=display:flex><span>00000080: <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span>  ................
</span></span><span style=display:flex><span>00000090: 2a00 <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>2002</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0400</span> <span style=color:#ae81ff>0000</span>  *....... .......
</span></span><span style=display:flex><span>000000a0: b802 <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0200</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0004</span> <span style=color:#ae81ff>0080</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span>  ................
</span></span><span style=display:flex><span>000000b0: <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> 5f5f <span style=color:#ae81ff>6373</span> <span style=color:#ae81ff>7472</span> 696e  ........__cstrin
</span></span><span style=display:flex><span>000000c0: <span style=color:#ae81ff>6700</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> 5f5f <span style=color:#ae81ff>5445</span> <span style=color:#ae81ff>5854</span> <span style=color:#ae81ff>0000</span>  g.......__TEXT..
</span></span><span style=display:flex><span>000000d0: <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> 2a00 <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span>  ........*.......
</span></span><span style=display:flex><span>000000e0: <span style=color:#ae81ff>0700</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> 4a02 <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span>  ........J.......
</span></span><span style=display:flex><span>000000f0: <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0200</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span>  ................
</span></span><span style=display:flex><span>00000100: <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> 5f5f 636f 6d70 <span style=color:#ae81ff>6163</span>  ........__compac
</span></span><span style=display:flex><span>00000110: 745f 756e <span style=color:#ae81ff>7769</span> 6e64 5f5f 4c44 <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span>  t_unwind__LD....
</span></span><span style=display:flex><span>00000120: <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>3800</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span>  ........8.......
</span></span><span style=display:flex><span>00000130: <span style=color:#ae81ff>2000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>5802</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0300</span> <span style=color:#ae81ff>0000</span>   .......X.......
</span></span><span style=display:flex><span>00000140: c802 <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0100</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0002</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span>  ................
</span></span><span style=display:flex><span>00000150: <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> 5f5f <span style=color:#ae81ff>6568</span> 5f66 <span style=color:#ae81ff>7261</span>  ........__eh_fra
</span></span><span style=display:flex><span>00000160: 6d65 <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> 5f5f <span style=color:#ae81ff>5445</span> <span style=color:#ae81ff>5854</span> <span style=color:#ae81ff>0000</span>  me......__TEXT..
</span></span><span style=display:flex><span>00000170: <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>5800</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span>  ........X.......
</span></span><span style=display:flex><span>00000180: <span style=color:#ae81ff>4000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>7802</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0300</span> <span style=color:#ae81ff>0000</span>  @.......x.......
</span></span><span style=display:flex><span>00000190: <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> 0b00 <span style=color:#ae81ff>0068</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span>  ...........h....
</span></span><span style=display:flex><span>000001a0: <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>2400</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>1000</span> <span style=color:#ae81ff>0000</span>  ........$.......
</span></span><span style=display:flex><span>000001b0: 000d 0a00 <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0200</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>1800</span> <span style=color:#ae81ff>0000</span>  ................
</span></span><span style=display:flex><span>000001c0: d002 <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0200</span> <span style=color:#ae81ff>0000</span> f002 <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>1000</span> <span style=color:#ae81ff>0000</span>  ................
</span></span><span style=display:flex><span>000001d0: 0b00 <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>5000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span>  ....P...........
</span></span><span style=display:flex><span>000001e0: <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0100</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0100</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0100</span> <span style=color:#ae81ff>0000</span>  ................
</span></span><span style=display:flex><span>000001f0: <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span>  ................
</span></span><span style=display:flex><span>00000200: <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span>  ................
</span></span><span style=display:flex><span>00000210: <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span>  ................
</span></span><span style=display:flex><span>00000220: <span style=color:#ae81ff>5548</span> 89e5 <span style=color:#ae81ff>4883</span> ec10 488d 3d1b <span style=color:#ae81ff>0000</span> 00c7  UH..H...H.<span style=color:#f92672>=</span>.....
</span></span><span style=display:flex><span>00000230: 45fc <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> b000 e800 <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0031</span> c989  E............1..
</span></span><span style=display:flex><span>00000240: 45f8 89c8 <span style=color:#ae81ff>4883</span> c410 5dc3 <span style=color:#ae81ff>6865</span> 6c6c 6f0a  E...H...<span style=color:#f92672>]</span>.hello.
</span></span><span style=display:flex><span>00000250: <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span>  ................
</span></span><span style=display:flex><span>00000260: 2a00 <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0001</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span>  *...............
</span></span><span style=display:flex><span>00000270: <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>1400</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span>  ................
</span></span><span style=display:flex><span>00000280: 017a <span style=color:#ae81ff>5200</span> <span style=color:#ae81ff>0178</span> <span style=color:#ae81ff>1001</span> 100c <span style=color:#ae81ff>0708</span> <span style=color:#ae81ff>9001</span> <span style=color:#ae81ff>0000</span>  .zR..x..........
</span></span><span style=display:flex><span>00000290: <span style=color:#ae81ff>2400</span> <span style=color:#ae81ff>0000</span> 1c00 <span style=color:#ae81ff>0000</span> 88ff ffff ffff ffff  $...............
</span></span><span style=display:flex><span>000002a0: 2a00 <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0041</span> 0e10 <span style=color:#ae81ff>8602</span> 430d  *........A....C.
</span></span><span style=display:flex><span>000002b0: <span style=color:#ae81ff>0600</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>1900</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0100</span> 002d  ...............-
</span></span><span style=display:flex><span>000002c0: 0b00 <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0200</span> <span style=color:#ae81ff>0015</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0100</span> <span style=color:#ae81ff>0006</span>  ................
</span></span><span style=display:flex><span>000002d0: <span style=color:#ae81ff>0100</span> <span style=color:#ae81ff>0000</span> 0f01 <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span>  ................
</span></span><span style=display:flex><span>000002e0: <span style=color:#ae81ff>0700</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0100</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span> <span style=color:#ae81ff>0000</span>  ................
</span></span><span style=display:flex><span>000002f0: 005f 6d61 696e 005f <span style=color:#ae81ff>7072</span> 696e <span style=color:#ae81ff>7466</span> <span style=color:#ae81ff>0000</span>  ._main._printf..
</span></span></code></pre></div><h2 id=objdump-사용법>objdump 사용법</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ gobjdump -D -x -s -h 실행파일
</span></span></code></pre></div><h2 id=t32_simarm-예제>T32_simarm 예제</h2><blockquote><p>윈도우 에서 돌려야함. 맥에서 설치 가능 하긴 하나 아직은 필요 없는듯</p></blockquote><ol><li>t32marm.exe 실행</li><li>나온창 다 닫고 밑으 콘솔에
B:: RES
B:: D.L
B:: R
B:: D.DUMP 0X20000000
B:: D.LOAD .ELF *</li><li>창하나 뜨면 ex 폴더의 image 파일 열기 (반드시 image여야함 .bin 이런거 말고)</li><li>F9 누르면 기계에 를 와따가따함</li><li>F3 누르면 다음 단계 진행</li><li>BL Main에 다다르면 F2해서 프로그램 실행이됨</li></ol><h2 id=memory-structure>Memory structure</h2><p><a href=http://faculty.salina.k-state.edu/tim/CMST302/study_guide/topic4/storage_class.html target=_blank rel=noopener>여기를 보며 참고해보자</a></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-scheme data-lang=scheme><span style=display:flex><span>//stored in memory
</span></span><span style=display:flex><span><span style=color:#f92672>.</span>text
</span></span><span style=display:flex><span>실행 가능한 명령어들이 저장된다<span style=color:#f92672>.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>.</span>rodata(<span style=color:#a6e22e>rdata,const</span>) =&gt;rodata(read only data)
</span></span><span style=display:flex><span>constant, literal &amp; symbolic constant 등이 저장된다<span style=color:#f92672>.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>.</span>data
</span></span><span style=display:flex><span>초기화 전역 변수
</span></span><span style=display:flex><span><span style=color:#f92672>.</span>bss
</span></span><span style=display:flex><span>초기화 되지 않은 전역 변수
</span></span><span style=display:flex><span><span style=color:#f92672>.</span>heap
</span></span><span style=display:flex><span>사용자 동적 메모리
</span></span><span style=display:flex><span><span style=color:#f92672>.</span>stack
</span></span><span style=display:flex><span>지역 변수
</span></span></code></pre></div><blockquote><p>Texas instrument에 보면 각 section에 대해 이렇게 정의 되어 있다.</p><p>Initialized sections: .text, .const, .cinit, and .switch</p><p>Uninitialized sections: .bss, .stack, and .sysmem</p><p>• .text &ndash; Used for program code.</p><p>• .bss &ndash; Used for uninitialized objects (global variables).</p><p>• .data &ndash; Used for initialized non-const objects (global variables).</p><p>• .const &ndash; Used for initialized const objects (string constants, variables declared const).</p><p>• .cinit &ndash; Used to initialize C global variables at startup.</p><p>• .stack &ndash; Used for the function call stack.</p><p>• .sysmem - Used for the dynamic memory allocation pool.</p></blockquote><h3 id=text-section>Text Section</h3><p>The text section of the program contains the executable instructions of the program. Thus, the program instruction counter is a pointer into the text section. Constants, such as the string constants of a <a href=http://faculty.salina.k-state.edu/tim/CMST302/study_guide/topic1/IO.html#printf target=_blank rel=noopener>printf()</a> statement are also stored in the text section of memory.</p><h3 id=data-section>Data Section</h3><p>The data section of memory if for global and static data that is initialized when declared. Since, the initial value of initialized variables is known in advance, all global or static variables are saved together in the executable file and the data block is loaded into memory directly from the executable file just like the text section.</p><h3 id=bss-section>Bss Section</h3><p>The bss section, like the data section, is for storing global and static variables. The difference being that the bss section stores variables that were not initialized to a specific value when declared. Bss data is initialized to zero when the program starts.</p><h3 id=stack-section>Stack Section</h3><p>The stack stores various pointer values which are needed for the execution of the program and also is the default storage location for variables which are local to a function, i.e., declared within the body of the function. The stack data is created when program begins a function and is destroyed when that function exits. When the running function call another function, the new function’s data is pushed in front of the original function’s data.</p><h3 id=memory-section>Memory section</h3><blockquote><p>프로그램이 run 할때까지의 memory section에 대한 이해를 해야한다.</p><p>사실 프로그램이 실행될때의 memory 구조를 주의깊게 보자.</p></blockquote><p><img src=../../assets/img/post/compile_bic.png alt=compile_bic></p><ul><li>a.c</li></ul><p><img src=../../assets/img/post/image-20180713120459967.png alt=image-20180713120459967></p><p>a.c를 살펴 보면 code block 내에 존재하는 code들이 있다.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#66d9ef>int</span> li <span style=color:#f92672>=</span> <span style=color:#ae81ff>0x123456789</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> lni;
</span></span><span style=display:flex><span><span style=color:#75715e>//두 변수의 설명에 automatic variable 이라고 설명 되어 있다.
</span></span></span></code></pre></div><p>Automatic variable 이란 특정 scope내에서 자동 생성 되어 stack에 저장되었다가</p><p>scope 를 빠져 나가면 stackd에서 자동 삭제 된다.</p><p>따라서 automatic variable들의 life time은 scope 를 벗어 날때 까지 이다.</p><ul><li>Load view & Exec view</li></ul><p><img src=../../assets/img/post/image-20180713120739413.png alt=image-20180713120739413></p><center>Load and Exec view</centet><p>Load view : a.out이 실행되기 이전에 ROM에 저장되어 있는 상태이다.</p><p>Exec view : a.out이 실행되서 RAM에 올라가 있을때 이다.</p><p>Zero Initialization : 초기화 되지 안은 전역 변수, 배열을 초기화 해준다.</p><ul><li>Memory segment example</li></ul><p><img src=../../assets/img/post/compile_scope.png alt=compile_scope></p><h2 id=tips>Tips</h2><h2 id=c언어>C언어</h2><ul><li><p>대입 연산자(=)는 반드시 일치 시키는것이 좋다.</p><p>int 형에 소수를 저장하는 형태를 살펴보자.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#66d9ef>int</span> a<span style=color:#f92672>=</span><span style=color:#ae81ff>3.5</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>printf</span>(<span style=color:#e6db74>&#34;%d&#34;</span>,a);
</span></span><span style=display:flex><span><span style=color:#75715e>//실행결과
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#ae81ff>3</span>
</span></span></code></pre></div><p>데이터 누수가 발생한다. int형은 소수부분을 저장하지 않는다. 때문에 0.5의 소수부분이 날라가버린다.</p><p>하지만 double형에 int형을 저장하는것은 가능하다.</p><p>더 큰 자료형에 작은 형을 assign하는것은 문제가 없다 다만 자동 형변환이 일어난다.</p></li><li><p>강제 형변환 vs 자동 형변환</p><ul><li><p>자동 형변환</p><p>자동 형변환은 더 작은 자료형에서 더큰 자료형으로 assign할때 발생.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#66d9ef>int</span> a<span style=color:#f92672>=</span><span style=color:#ae81ff>8</span>,b<span style=color:#f92672>=</span><span style=color:#ae81ff>2</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>double</span> b<span style=color:#f92672>=</span>a<span style=color:#f92672>/</span>b;
</span></span><span style=display:flex><span><span style=color:#a6e22e>printf</span>(<span style=color:#e6db74>&#34;%f</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>,b);
</span></span><span style=display:flex><span><span style=color:#75715e>//실행결과
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#ae81ff>4.000000</span>
</span></span></code></pre></div><p>우리가 원하는 값은 4였을 터이지만 실제 출력값은 4.000000이 나온다.</p><p>double은 8바이트를 할당하고 지수부분에 11비트 소수부분이 52비트를 저장한다.</p><p>때문에 지수부분 4와 소수부분 52비트 즉 6바이트 0.000000 이기 때문에</p><p>소수점 밑으로 6자리를 표기한다.</p></li><li><p>강제 형변환</p><p>위와 같은 경우에서 원하는 값인 2로 표기할수도 있다.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#a6e22e>printf</span>(<span style=color:#e6db74>&#34;%d&#34;</span>,(<span style=color:#66d9ef>int</span>)b);
</span></span><span style=display:flex><span><span style=color:#75715e>//실행결과
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#ae81ff>4</span>
</span></span></code></pre></div><p>물론 강제 형변환은 포인터 에서도 많이 쓰인다.</p><p><a href>함수 포인터</a>, <a href=/study/lecture0615/#1byte-access>byte access</a> 를 참고.</p></li></ul></li></ul></div><div class="row ps-3 pe-3"><div class="col-md-6 share-buttons"><strong>:</strong>
<a class="btn icon-button bg-facebook" href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fcodex-devlab.github.io%2fposts%2fstudy%2fsub-computer-science%2fembedded-system%2f" target=_blank><i class="fab fa-facebook"></i>
</a><a class="btn icon-button bg-twitter" href="https://twitter.com/share?url=https%3a%2f%2fcodex-devlab.github.io%2fposts%2fstudy%2fsub-computer-science%2fembedded-system%2f&text=%ec%8b%9c%ec%8a%a4%ed%85%9c%ed%94%84%eb%a1%9c%ea%b7%b8%eb%9e%98%eb%b0%8d%20FTW%20%ea%b5%ac%ed%98%84&via=CodeXlog" target=_blank><i class="fab fa-twitter"></i>
</a><a class="btn icon-button bg-linkedin" href="https://www.linkedin.com/shareArticle?url=https%3a%2f%2fcodex-devlab.github.io%2fposts%2fstudy%2fsub-computer-science%2fembedded-system%2f&title=%ec%8b%9c%ec%8a%a4%ed%85%9c%ed%94%84%eb%a1%9c%ea%b7%b8%eb%9e%98%eb%b0%8d%20FTW%20%ea%b5%ac%ed%98%84" target=_blank><i class="fab fa-linkedin"></i>
</a><a class="btn icon-button" href="mailto:?subject=%ec%8b%9c%ec%8a%a4%ed%85%9c%ed%94%84%eb%a1%9c%ea%b7%b8%eb%9e%98%eb%b0%8d%20FTW%20%ea%b5%ac%ed%98%84&body=https%3a%2f%2fcodex-devlab.github.io%2fposts%2fstudy%2fsub-computer-science%2fembedded-system%2f" target=_blank><i class="fas fa-envelope-open-text"></i></a></div><div class="col-md-6 btn-improve-page"><a href=https://github.com/codex-devlab/codex-devlab.github.io/edit/main/content/posts/study/sub-computer-science/embedded-System/index.md title="이 페이지를 개선" target=_blank rel=noopener><i class="fas fa-code-branch"></i>
이 페이지를 개선</a></div></div><hr><div class="row next-prev-navigator"><div class="col-md-6 previous-article"><a href=/posts/study/sub-algorithms/etc-problems/prob-pascal-triangle/ title="파스칼의 삼각형" class="btn filled-button"><div><i class="fas fa-chevron-circle-left"></i> 이전</div><div class=next-prev-text>파스칼의 삼각형</div></a></div><div class="col-md-6 next-article"><a href=/posts/study/sub-computer-science/system-programming-ftw-implementation/ title="시스템프로그래밍 FTW 구현" class="btn filled-button"><div>다음 <i class="fas fa-chevron-circle-right"></i></div><div class=next-prev-text>시스템프로그래밍 FTW 구현</div></a></div></div><hr><div id=disqus_thread></div><script type=text/javascript>(function(){if(window.location.hostname=="localhost")return;var t,e=document.createElement("script");e.type="text/javascript",e.async=!0,t="codex-devlab-github-io",e.src="//"+t+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)})()</script><noscript><a href=https://disqus.com/?ref_noscript>Disqus.</a></noscript><a href=https://disqus.com/ class=dsq-brlink><span class=logo-disqus>Disqus</span></a></div></div></div><a id=scroll-to-top class=btn type=button data-bs-toggle=tooltip data-bs-placement=left title="Scroll to top"><i class="fas fa-chevron-circle-up"></i></a></section><section class=toc-section id=toc-section><div class=toc-holder><h5 class="text-center ps-3">목차</h5><hr><div class=toc><nav id=TableOfContents><ul><li><ul><li><a href=#embedded-system>Embedded System?</a></li><li><a href=#soc>SoC</a></li><li><a href=#volatile-쓰는-이유>volatile 쓰는 이유</a><ul><li><a href=#gcc-arm-tool-chain-설치방법>gcc-arm tool chain 설치방법</a></li><li><a href=#homebrew-설치-방법되는건지-잘-모르겠음>homebrew 설치 방법(되는건지 잘 모르겠음)</a></li><li><a href=#맥용-objdump-설치-방법>맥용 objdump 설치 방법</a></li></ul></li><li><a href=#ex-예제>ex 예제</a></li><li><a href=#helloc-예제>hello.c 예제</a></li><li><a href=#오브젝트-파일과-실행-파일의-차이-공부>오브젝트 파일과 실행 파일의 차이 공부!</a></li><li><a href=#objdump-사용법>objdump 사용법</a></li><li><a href=#t32_simarm-예제>T32_simarm 예제</a></li><li><a href=#memory-structure>Memory structure</a><ul><li><a href=#text-section>Text Section</a></li><li><a href=#data-section>Data Section</a></li><li><a href=#bss-section>Bss Section</a></li><li><a href=#stack-section>Stack Section</a></li><li><a href=#memory-section>Memory section</a></li></ul></li><li><a href=#tips>Tips</a></li><li><a href=#c언어>C언어</a></li></ul></li></ul></nav></div></div></section></div><footer id=footer class="container-fluid text-center align-content-center footer pb-2"><div class="container pt-5"><div class="row text-start"><div class="col-md-4 col-sm-12"><h5>바로가기</h5><ul><li class=nav-item><a class=smooth-scroll href=https://codex-devlab.github.io/#about>About</a></li><li class=nav-item><a class=smooth-scroll href=https://codex-devlab.github.io/#recent-posts>Recent Posts</a></li><li class=nav-item><a class=smooth-scroll href=/tags/>Tags</a></li></ul></div><div class="col-md-4 col-sm-12"><h5>Contact me:</h5><ul><li><a href=mailto:codex.devlab@gmail.com target=_blank rel=noopener><span><i class="fas fa-envelope"></i></span> <span>codex.devlab@gmail.com</span></a></li><li><a href=https://github.com/ehdwn1991 target=_blank rel=noopener><span><i class="fab fa-github"></i></span> <span>ehdwn1991</span></a></li><li><a href=https://www.linkedin.com/in/dongju-son target=_blank rel=noopener><span><i class="fab fa-linkedin"></i></span> <span>Codex</span></a></li></ul></div></div></div><hr><div class=container><p id=disclaimer><strong>책임 고지:</strong> This theme is under MIT license. So, you can use it for non-commercial, commercial, or private uses. You can modify or distribute the theme without requiring any permission from the theme author. However, the theme author does not provide any warranty or takes any liability for any issue with the theme.</p></div></footer><script src=/application.5c1b4fcf22483f6df2703ba146ca9ffdf10eef71c2abf801d2b9a23d06c89341.js integrity="sha256-XBtPzyJIP23ycDuhRsqf/fEO73HCq/gB0rmiPQbIk0E=" defer></script></body></html>